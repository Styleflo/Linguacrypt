<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.effect.ColorAdjust?>
<?import javafx.scene.effect.GaussianBlur?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<StackPane prefHeight="850.0" prefWidth="1450.0" styleClass="blue_main_panneau" stylesheets="@../css/gui.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="linguacrypt.controller.PlateauController">
    <children>
        <SplitPane dividerPositions="0.5" prefHeight="1082.0" prefWidth="1761.0">
            <items>
                <AnchorPane fx:id="panneau_changer" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="856.0" prefWidth="395.0" stylesheets="@../css/gui.css">
                    <children>
                        <Button alignment="CENTER" contentDisplay="CENTER" graphicTextGap="5.0" layoutX="28.0" layoutY="653.0" mnemonicParsing="false" onAction="#handleNouvellePartie" prefHeight="71.0" prefWidth="188.0" stylesheets="@../css/gui.css" text="Nouvelle partie" textAlignment="CENTER" textFill="WHITE">
                            <styleClass>
                                <String fx:value="button1" />
                                <String fx:value="red_button" />
                            </styleClass>
                        </Button>
                        <Button alignment="CENTER" contentDisplay="CENTER" graphicTextGap="5.0" layoutX="28.0" layoutY="742.0" mnemonicParsing="false" onAction="#handleMenuPrincipal" prefHeight="71.0" prefWidth="188.0" stylesheets="@../css/gui.css" text="Menu Principal" textAlignment="CENTER" textFill="WHITE">
                            <styleClass>
                                <String fx:value="button1" />
                                <String fx:value="orange_button" />
                            </styleClass>
                        </Button>
                        <FlowPane prefHeight="200.0" prefWidth="200.0" />
                        <AnchorPane layoutX="28.0" layoutY="503.0" prefHeight="125.0" prefWidth="342.0" styleClass="dark_petit_panneau">
                            <children>
                                <Label alignment="CENTER" contentDisplay="CENTER" layoutX="27.0" layoutY="8.0"
                                       prefHeight="24.0" prefWidth="288.0" styleClass="text" text="Temps de jeu"
                                       textFill="WHITE"/>
                                <HBox layoutX="21.0" layoutY="55.0" spacing="10.0" alignment="CENTER" prefWidth="300.0">
                                    <AnchorPane prefHeight="45.0" prefWidth="145.0" styleClass="blue_petit_panneau">
                                        <children>
                                            <Label fx:id="blueTimer" layoutX="0.0" layoutY="0.0"
                                                   prefHeight="45.0" prefWidth="145.0"
                                                   alignment="CENTER" text="00:00"
                                                   styleClass="timer-text" textFill="WHITE"/>
                                        </children>
                                    </AnchorPane>
                                    <AnchorPane prefHeight="45.0" prefWidth="145.0" styleClass="red_petit_panneau">
                                        <children>
                                            <Label fx:id="redTimer" layoutX="0.0" layoutY="0.0"
                                                   prefHeight="45.0" prefWidth="145.0"
                                                   alignment="CENTER" text="00:00"
                                                   styleClass="timer-text" textFill="WHITE"/>
                                        </children>
                                    </AnchorPane>
                                </HBox>
                            </children>
                        </AnchorPane>

                        <AnchorPane layoutX="28.0" layoutY="351.0" prefHeight="142.0" prefWidth="342.0" styleClass="dark_petit_panneau">
                            <children>
                                <Label alignment="CENTER" contentDisplay="CENTER" layoutX="29.0" layoutY="14.0" prefHeight="30.0" prefWidth="288.0" styleClass="text" text="Cartes trouvées" textFill="WHITE" />
                                <AnchorPane layoutX="29.0" layoutY="58.0" prefHeight="71.0" prefWidth="109.0" styleClass="blue_petit_panneau">
                                    <children>
                                        <Label fx:id="lbbleu" layoutX="25.0" layoutY="21.0" text=" " textFill="WHITE" />
                                    </children>
                                </AnchorPane>
                                <AnchorPane layoutX="208.0" layoutY="58.0" prefHeight="71.0" prefWidth="109.0" styleClass="red_petit_panneau">
                                    <children>
                                        <Label fx:id="lbred" layoutX="25.0" layoutY="21.0" text=" " />
                                    </children>
                                </AnchorPane>
                            </children>
                        </AnchorPane>
                        <Pane fx:id="panneau_changer2" layoutX="29.0" layoutY="26.0" prefHeight="317.0" prefWidth="342.0">
                            <styleClass>
                                <String fx:value="logo_panneau" />
                                <String fx:value="logo_panneau_rouge" />
                            </styleClass>
                            <children>
                                <Label fx:id="labelEquipe" alignment="CENTER" contentDisplay="CENTER" layoutX="7.0" layoutY="266.0" prefHeight="30.0" prefWidth="329.0" styleClass="text" text="Tour de l'équipe Rouge" textAlignment="CENTER" textFill="WHITE" />
                                <ImageView fx:id="lingualogo" fitHeight="289.0" fitWidth="273.0" layoutX="35.0" pickOnBounds="true" preserveRatio="true">
                                    <image>
                                        <Image url="@../assets/lingua.png" />
                                    </image>
                                </ImageView>
                            </children>
                        </Pane>
                        <Button alignment="CENTER" contentDisplay="CENTER" graphicTextGap="5.0" layoutX="232.0" layoutY="653.0" mnemonicParsing="false" onAction="#handleTourSuivant" prefHeight="160.0" prefWidth="138.0" stylesheets="@../css/gui.css" text="Tour suivant" textAlignment="CENTER" textFill="WHITE">
                            <styleClass>
                                <String fx:value="button1" />
                                <String fx:value="purple_button" />
                            </styleClass>
                        </Button>
                        <ImageView fx:id="filtre2" fitHeight="862.0" fitWidth="708.0" layoutX="-313.0" layoutY="-6.0" opacity="0.07" pickOnBounds="true">
                            <image>
                                <Image url="@../assets/filtre.png" />
                            </image>
                            <effect>
                                <GaussianBlur radius="12.25" />
                            </effect>
                        </ImageView>
                  <Button layoutX="41.0" layoutY="41.0" mnemonicParsing="false" onAction="#afficheQRcode" prefHeight="43.0" prefWidth="42.0">
                     <styleClass>
                        <String fx:value="buttonnotmouve" />
                        <String fx:value="purple_button" />
                     </styleClass>
                  </Button>
                  <ImageView fx:id="turnQR" fitHeight="51.0" fitWidth="42.0" layoutX="41.0" layoutY="41.0" pickOnBounds="true" preserveRatio="true">
                     <image>
                        <Image url="@../assets/return.png" />
                     </image>
                  </ImageView>
                  <ImageView fx:id="qrCode" fitHeight="257.0" fitWidth="257.0" layoutX="83.0" layoutY="34.0" pickOnBounds="true" preserveRatio="true" visible="false" />
                    </children>
                    <styleClass>
                        <String fx:value="main_panneau" />
                        <String fx:value="red_main_panneau" />
                    </styleClass>
                </AnchorPane>
                <StackPane prefHeight="1010.0" prefWidth="1275.0">
                    <children>
                        <ImageView fx:id="imageview2" fitHeight="856.0" fitWidth="1102.0" pickOnBounds="true">
                            <image>
                                <Image url="@../assets/fond_rouge_flou.png" />
                            </image>
                            <effect>
                                <GaussianBlur radius="0.0" />
                            </effect>
                        </ImageView>
                        <ImageView fx:id="imageview1" fitHeight="858.0" fitWidth="1102.0" pickOnBounds="true" visible="false">
                            <image>
                                <Image url="@../assets/fond_rouge_flou.png" />
                            </image>
                            <effect>
                                <ColorAdjust hue="-0.81" />
                            </effect>
                        </ImageView>
                        <ImageView fx:id="filtre" fitHeight="858.0" fitWidth="1098.0" opacity="0.26" pickOnBounds="true">
                            <image>
                                <Image url="@../assets/filtre.png" />
                            </image>
                            <effect>
                                <GaussianBlur radius="15.25" />
                            </effect>
                        </ImageView>
                        <GridPane fx:id="gridPane" prefHeight="827.0" prefWidth="1102.0">
                            <columnConstraints>
                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                            </columnConstraints>
                            <rowConstraints>
                                <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                            </rowConstraints>
                        </GridPane>
                    </children>
                </StackPane>

            </items>
        </SplitPane>

        <Pane fx:id="confirmationOverlay" styleClass="confirmationOverlay" visible="false">
            <children>
                <VBox alignment="CENTER" layoutX="525.0" layoutY="325.0" prefHeight="200.0" prefWidth="400.0" spacing="20.0" styleClass="confirmation-box">
                    <children>
                        <Label styleClass="text" text="Voulez-vous commencer une nouvelle partie ?" textFill="WHITE" />
                        <HBox alignment="CENTER" spacing="10.0">
                            <Button onAction="#confirmNouvellePartie" text="Oui">
                                <styleClass>
                                    <String fx:value="button1" />
                                    <String fx:value="red_button" />
                                </styleClass>
                            </Button>
                            <Button onAction="#cancelNouvellePartie" text="Non">
                                <styleClass>
                                    <String fx:value="button1" />
                                    <String fx:value="purple_button" />
                                </styleClass>
                            </Button>
                        </HBox>
                    </children>
                </VBox>
            </children>
        </Pane>

        <Pane fx:id="confirmationOverlayMenu" styleClass="confirmationOverlay" visible="false">
            <children>
                <VBox alignment="CENTER" layoutX="525.0" layoutY="325.0" prefHeight="200.0" prefWidth="400.0" spacing="20.0" styleClass="confirmation-box">
                    <children>
                        <Label styleClass="text" text="Voulez-vous sauvegarder la partie en cours ?" textFill="WHITE" />
                        <HBox alignment="CENTER" spacing="10.0">
                            <Button onAction="#confirmSavePartie" styleClass="button1" text="Oui">
                                <styleClass>
                                    <String fx:value="button1" />
                                    <String fx:value="red_button" />
                                </styleClass>
                            </Button>
                            <Button onAction="#returnMenu" text="Non">
                                <styleClass>
                                    <String fx:value="button1" />
                                    <String fx:value="purple_button" />
                                </styleClass>
                            </Button>
                            <Button onAction="#closeConfirmationMenu" styleClass="close_button" text="Annuler">
                                <styleClass>
                                    <String fx:value="button1" />
                                    <String fx:value="close_button" />
                                </styleClass>
                            </Button>
                        </HBox>
                    </children>
                </VBox>
            </children>
        </Pane>

        <Pane fx:id="confirmationOverlayMenuSave" styleClass="confirmationOverlay" visible="false">
        </Pane>
        <Pane fx:id="confirmationOverlayMenuSave" styleClass="confirmationOverlay" visible="false">
        </Pane>

        <Pane fx:id="popupWin" styleClass="confirmationOverlay" visible="false">
            <children>
                <VBox fx:id="borderWin" alignment="CENTER" layoutX="525.0" layoutY="325.0" prefHeight="200.0" prefWidth="400.0" spacing="20.0" styleClass="win-box-red">
                    <children>
                        <Label fx:id="whoWon" styleClass="text" text="Tu ne devrais pas voir ça ! Il y a un bug ! Appelle Florian" textFill="WHITE" />
                        <HBox alignment="CENTER" spacing="10.0">
                            <Button fx:id="colorButton" onAction="#okWin" styleClass="button1" text="Oui">
                            </Button>
                        </HBox>
                    </children>
                </VBox>
            </children>
        </Pane>

    </children>
</StackPane>
